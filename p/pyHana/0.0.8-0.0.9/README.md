# Comparing `tmp/pyHana-0.0.8-py3-none-any.whl.zip` & `tmp/pyHana-0.0.9-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,36 +1,38 @@
-Zip file size: 63871 bytes, number of entries: 34
+Zip file size: 72059 bytes, number of entries: 36
 -rw-rw-rw-  2.0 fat       85 b- defN 23-Jun-25 16:00 pyHana/__init__.py
 -rw-rw-rw-  2.0 fat       95 b- defN 24-Mar-21 22:13 pyHana/analysis/__init__.py
 -rw-rw-rw-  2.0 fat    12672 b- defN 24-Mar-10 11:47 pyHana/analysis/backtest.py
--rw-rw-rw-  2.0 fat     9051 b- defN 24-Mar-21 22:12 pyHana/analysis/condSearch.py
--rw-rw-rw-  2.0 fat    17165 b- defN 24-Mar-10 11:20 pyHana/analysis/findSignals.py
+-rw-rw-rw-  2.0 fat    11656 b- defN 24-Mar-23 13:05 pyHana/analysis/condSearch.py
+-rw-rw-rw-  2.0 fat    17158 b- defN 24-Mar-26 16:01 pyHana/analysis/findSignals.py
 -rw-rw-rw-  2.0 fat    23430 b- defN 23-Sep-24 07:52 pyHana/analysis/graph.py
 -rw-rw-rw-  2.0 fat     6900 b- defN 23-Jul-06 13:47 pyHana/analysis/movingAverage.py
--rw-rw-rw-  2.0 fat    16823 b- defN 23-Oct-08 06:56 pyHana/analysis/stockEcoIndex.py
+-rw-rw-rw-  2.0 fat    16819 b- defN 24-Mar-26 16:03 pyHana/analysis/stockEcoIndex.py
 -rw-rw-rw-  2.0 fat       55 b- defN 23-Jun-29 15:28 pyHana/common/__init__.py
 -rw-rw-rw-  2.0 fat     1589 b- defN 24-Mar-20 12:39 pyHana/common/code.py
 -rw-rw-rw-  2.0 fat      672 b- defN 23-Jul-08 12:57 pyHana/common/conf.py
--rw-rw-rw-  2.0 fat     1710 b- defN 24-Mar-07 14:14 pyHana/common/dataProc.py
+-rw-rw-rw-  2.0 fat     1978 b- defN 24-Mar-26 13:47 pyHana/common/dataProc.py
 -rw-rw-rw-  2.0 fat     5047 b- defN 23-Jun-08 04:17 pyHana/common/graph.py
--rw-rw-rw-  2.0 fat     1272 b- defN 24-Mar-17 06:35 pyHana/common/urlProc.py
+-rw-rw-rw-  2.0 fat     1314 b- defN 24-Mar-26 14:50 pyHana/common/urlProc.py
 -rw-rw-rw-  2.0 fat       64 b- defN 23-Jun-29 14:00 pyHana/dataSync/__init__.py
--rw-rw-rw-  2.0 fat    14492 b- defN 24-Mar-20 13:42 pyHana/dataSync/dartSync.py
+-rw-rw-rw-  2.0 fat    15739 b- defN 24-Mar-26 15:02 pyHana/dataSync/dartSync.py
+-rw-rw-rw-  2.0 fat    21451 b- defN 23-Jun-07 11:29 pyHana/dataSync/dartSyncFile.py
 -rw-rw-rw-  2.0 fat    13293 b- defN 24-Mar-20 10:49 pyHana/dataSync/ebestSync.py
--rw-rw-rw-  2.0 fat     3608 b- defN 24-Mar-20 12:34 pyHana/dataSync/finInfoSync.py
--rw-rw-rw-  2.0 fat    10098 b- defN 24-Mar-20 11:51 pyHana/dataSync/kindSync.py
--rw-rw-rw-  2.0 fat      829 b- defN 23-Oct-07 10:49 pyHana/dataSync/marketIndexSync.py
+-rw-rw-rw-  2.0 fat     3607 b- defN 24-Mar-26 13:17 pyHana/dataSync/finInfoSync.py
+-rw-rw-rw-  2.0 fat    10127 b- defN 24-Mar-26 14:34 pyHana/dataSync/kindSync.py
+-rw-rw-rw-  2.0 fat      829 b- defN 24-Mar-23 14:37 pyHana/dataSync/marketIndexSync.py
 -rw-rw-rw-  2.0 fat       73 b- defN 23-Jun-25 07:13 pyHana/innerIO/__init__.py
 -rw-rw-rw-  2.0 fat     5708 b- defN 24-Mar-20 15:24 pyHana/innerIO/companyInfo.py
 -rw-rw-rw-  2.0 fat     4697 b- defN 24-Mar-21 11:11 pyHana/innerIO/marketIndex.py
 -rw-rw-rw-  2.0 fat    11786 b- defN 24-Mar-21 15:50 pyHana/innerIO/stockInfo.py
--rw-rw-rw-  2.0 fat       72 b- defN 23-Jun-24 12:59 pyHana/outerIO/__init__.py
+-rw-rw-rw-  2.0 fat       81 b- defN 24-Mar-23 14:11 pyHana/outerIO/__init__.py
 -rw-rw-rw-  2.0 fat     4241 b- defN 24-Mar-20 12:02 pyHana/outerIO/companyInfo.py
--rw-rw-rw-  2.0 fat     7638 b- defN 24-Mar-20 13:03 pyHana/outerIO/dart.py
+-rw-rw-rw-  2.0 fat     7791 b- defN 24-Mar-26 15:04 pyHana/outerIO/dart.py
 -rw-rw-rw-  2.0 fat    15708 b- defN 23-Oct-09 15:21 pyHana/outerIO/ebest.py
 -rw-rw-rw-  2.0 fat    29774 b- defN 24-Mar-20 15:09 pyHana/outerIO/kind.py
 -rw-rw-rw-  2.0 fat    13773 b- defN 24-Mar-21 11:17 pyHana/outerIO/marketIndex.py
--rw-rw-rw-  2.0 fat      660 b- defN 24-Mar-21 23:00 pyHana-0.0.8.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 24-Mar-21 23:00 pyHana-0.0.8.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        7 b- defN 24-Mar-21 23:00 pyHana-0.0.8.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     2791 b- defN 24-Mar-21 23:00 pyHana-0.0.8.dist-info/RECORD
-34 files, 235970 bytes uncompressed, 59433 bytes compressed:  74.8%
+-rw-rw-rw-  2.0 fat     9624 b- defN 24-Mar-24 01:29 pyHana/outerIO/naver.py
+-rw-rw-rw-  2.0 fat      660 b- defN 24-Mar-30 02:55 pyHana-0.0.9.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 24-Mar-30 02:55 pyHana-0.0.9.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        7 b- defN 24-Mar-30 02:55 pyHana-0.0.9.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     2961 b- defN 24-Mar-30 02:55 pyHana-0.0.9.dist-info/RECORD
+36 files, 271556 bytes uncompressed, 67361 bytes compressed:  75.2%
```

## zipnote {}

```diff
@@ -42,14 +42,17 @@
 
 Filename: pyHana/dataSync/__init__.py
 Comment: 
 
 Filename: pyHana/dataSync/dartSync.py
 Comment: 
 
+Filename: pyHana/dataSync/dartSyncFile.py
+Comment: 
+
 Filename: pyHana/dataSync/ebestSync.py
 Comment: 
 
 Filename: pyHana/dataSync/finInfoSync.py
 Comment: 
 
 Filename: pyHana/dataSync/kindSync.py
@@ -84,20 +87,23 @@
 
 Filename: pyHana/outerIO/kind.py
 Comment: 
 
 Filename: pyHana/outerIO/marketIndex.py
 Comment: 
 
-Filename: pyHana-0.0.8.dist-info/METADATA
+Filename: pyHana/outerIO/naver.py
+Comment: 
+
+Filename: pyHana-0.0.9.dist-info/METADATA
 Comment: 
 
-Filename: pyHana-0.0.8.dist-info/WHEEL
+Filename: pyHana-0.0.9.dist-info/WHEEL
 Comment: 
 
-Filename: pyHana-0.0.8.dist-info/top_level.txt
+Filename: pyHana-0.0.9.dist-info/top_level.txt
 Comment: 
 
-Filename: pyHana-0.0.8.dist-info/RECORD
+Filename: pyHana-0.0.9.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## pyHana/analysis/condSearch.py

```diff
@@ -166,8 +166,54 @@
             if val != None:
                 data.append(val)
 
         if len(data) == len(condCols):
             resData.append([shCode] + data)
         
     dfNew = pd.DataFrame(resData, columns = ['종목코드'] + [x[1][0] for x in condCols])
-    return dfNew[dfNew.eval(cond)]   
+    return dfNew[dfNew.eval(cond)]   
+
+def prtInvestResult(df, frDt, toDt):
+    x = df['수익률'].agg(['size', 'mean', 'max', 'min']).tolist()
+    cnt = "%10d"%int(x[0])
+    cnt = ' '*(6-len(cnt) if len(cnt) <= 6 else 0) + cnt
+    earnAvg = "%8.2f"%round(x[1],2)+' %'
+    earnAvg = ' '*(10-len(earnAvg) if len(earnAvg) <= 10 else 0) + earnAvg
+    earnMax = "%8.2f"%round(x[2],2)+' %'
+    earnMax = ' '*(10-len(earnMax) if len(earnAvg) <= 10 else 0) + earnMax
+    earnMin = "%8.2f"%round(x[3],2)+' %'
+    earnMin = ' '*(10-len(earnMin) if len(earnMin) <= 10 else 0) + earnMin    
+
+    print(' [ 종목 수익률 ]')
+    print('┌────┬─────┬────┬─────┐')
+    print('│ 종목수 │' + cnt + '│최대수익│' + earnMax + '│')
+    print('├────┼─────┼────┼─────┤') 
+    print('│평균수익│' + earnAvg + '│최소수익│' + earnMin + '│')
+    print('└────┴─────┴────┴─────┘')       
+
+    for idx, idxNm in enumerate(['코스피','코스닥']):
+        x = stockInfo.StockPriceIndex(idxNm)
+        frDt = x[x['일자']>=frDt]['일자'].values[0]
+        toDt = x[x['일자']<=toDt]['일자'].values[-1]
+        frIdx = x[x['일자']>=frDt]['종가'].values[0]
+        toIdx = x[x['일자']<=toDt]['종가'].values[-1]
+        
+        earn = "%8.2f"%round(toIdx/frIdx*100-100,2)+' %'
+        earn = ' '*(10-len(earn) if len(earn) <= 10 else 0) + earn
+        frIdx = "%8.2f"%round(frIdx,2) 
+        frIdx = ' '*(6-len(frIdx) if len(frIdx) <= 6 else 0) + frIdx
+        toIdx = "%8.2f"%round(toIdx,2) 
+        toIdx = ' '*(6-len(toIdx) if len(toIdx) <= 6 else 0) + toIdx
+   
+        if idx == 0:
+            print(' [ 주요 지수 ]')
+            print('┌────┬─────┐┌────┬────┬────┬────┐') 
+            print('│ 지수명 │기간수익률││  일자  │  지수  │  일자  │  지수  │')
+            print('├────┼─────┤├────┼────┼────┼────┤')
+            
+        print('│ ' + idxNm + ' │' + earn + '││' + frDt + '│' + frIdx, end='')
+        print('│' + toDt + '│' + toIdx + '│')    
+        
+        if idx == 1:    
+            print('└────┴─────┘└────┴────┴────┴────┘')    
+        else:
+            print('├────┼─────┤├────┼────┼────┼────┤')
```

## pyHana/analysis/findSignals.py

```diff
@@ -16,20 +16,20 @@
     
     return macd
 
 def getValidTradeInfo(shCode, sDt, tDt):
     # columns = ['종목코드', '종목명']+code.saveColumns["일별주가"]
     columns = ['종목코드', '종목명', '일자', '시가', '고가', '저가', '종가', '대비', '등락률', '거래량', '거래대금', '시가총액', '상장주식수'] 
 
-    df = sd.ReadStockTrade(shCode)
+    df = sd.StockTrade(shCode)
     df = df[(df['일자'] >= sDt)&(df['일자'] <= tDt)&(df['거래량'] > 0)]#.reset_index(drop=True)
 
     if len(df) > 0:
         df['종목코드'] = shCode
-        x = code.GetStockItem(shCode)['종목명']
+        x = code.StockItem(shCode)['종목명']
         df['종목명'] = x.values[0] if len(x) > 0 else None
 
         df = df[columns]
     else:
         df = pd.DataFrame([], columns = columns)      
     
     return df
```

## pyHana/analysis/stockEcoIndex.py

```diff
@@ -141,15 +141,15 @@
 
 def GetIndexValueList(indexNm):
     # if indexNm not in ('BDI','BCI','BPI','BSI'):
     #     # print(indexNm, flush=True)
     #     retVal = sd.ReadEbestMarketIndexInfo(indexNm)['data']
     #     retVal = [[x[0], float(x[1])] for x in retVal]
     # else:
-    retVal = de.ReadMarketIndex(indexNm, objTyp='list')
+    retVal = de.MarketIndex(indexNm, objTyp='list')
     
     return retVal
 
 def TradeSimulation(priceType, indexNm, shCodes=[], 
                     sDate='00000101',  eDate='99991231', investAmt=10000000, advance=-1, feeRatio=0.015, taxRatio=0.3, indexGrowthSign='B',
                     consecutiveCntForSignChange=1):
     """
```

## pyHana/common/dataProc.py

```diff
@@ -23,14 +23,25 @@
     if gzipInd:
         with gzip.open(filePathNm, 'wb') as f:
             pickle.dump(currData, f)       
     else:
         with open(filePathNm, 'wb') as f:
             pickle.dump(currData, f)           
 
+
+def WriteTextFile(filePathNm, currData):    
+    dirName = os.path.dirname(filePathNm)
+    if not os.path.isdir(dirName):
+        os.makedirs(dirName, exist_ok=True)
+
+    f = open(filePathNm, 'w', encoding="utf8")
+    f.write(currData)
+    f.close()
+    
+
 def _MergeData(currData, newData, sortCols=1):
     # print('>>>>>>>>>>>> ', len(currData), len(newData))
     # sortCols 병합 시 중복 판단 기준 컬럼 수(앞에서부터)
     # 기존 데이터의 우선순위는 2, 신규 데이터는 우선순위 1로 병합 후 sort
     totList = [ x[0:sortCols] + [2] + x[sortCols:] for x in currData ] \
             + [ x[0:sortCols] + [1] + x[sortCols:] for x in newData ]
```

## pyHana/common/urlProc.py

```diff
@@ -1,16 +1,16 @@
 import requests
 import time
-# import datetime as dt
+import datetime
 
 def requests_url_call(urlStr, headers='', params='', prtInd = False):
     errInd = 'N'
     
     if prtInd: 
-        print('\r' + urlStr, params, headers, end='')
+        print('\r' + datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S'), urlStr, params, end='')
 
     while(1):
         try:                       
             # 2023.10.24 post 방식 추가
             if len(headers) == 0:      
                 resp = requests.get(urlStr, timeout=(5, 60)) # connect timeout 5초, read timeout 30로 각각 설정             
             elif len(headers) > 0 and len(params) > 0 :
@@ -22,14 +22,14 @@
 
             if errInd == 'Y':
                 print('>> Requests retry success : ', flush=True)    
                 
             return resp
         
         except Exception as e:
-            print("\n", ':', type(e), ':',  e, flush=True)
+            print("\n", type(e), ':',  e, flush=True)
             errInd = 'Y'
-            time.sleep(5)
+            time.sleep(1)
     if prtInd: 
-        print('\r', end='')         
+        print(' '*400, '\r', end='')         
            
     return resp
```

## pyHana/dataSync/dartSync.py

```diff
@@ -1,18 +1,29 @@
 from ..outerIO  import dart
-from ..common   import conf, dataProc
+from ..common   import conf, dataProc, code
 from ..outerIO  import ebest    as eb
 import pandas as pd
+import datetime
 
+def SyncCmpnyList(prtInd=False):
 
-def SyncCmpnyAcntInfo(year, quarter, selectToc = 0, currentPageSize = 100, prtInd=False):
+    filePathNm = conf.companyInfoPath + "/기업list(금감원).pkl"
+
+    dfData = dart.GetCmpnyList(prtInd=prtInd)
+
+    dataProc.WritePickleFile(filePathNm, dfData) 
+
+def SyncCmpnyAcntInfo(year, quarter, selectToc = 0, currentPageSize = 100, prtInd=False):        
+    errMsg = ''
+    print(datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S'), '작업시작 :', ('연결' if selectToc == 0 else '') + '재무제표',
+          '(' + str(year) + '년 ' + str(quarter) + '분기)')
     
-    # filePathNm = conf.companyInfoPath + "/기업list(금감원).pkl"    
-    # stockItemList = dataProc.ReadPickleFile(filePathNm)    
-    stockItemList = dart.GetCmpnyList()
+    filePathNm = conf.companyInfoPath + "/기업list(금감원).pkl"    
+    stockItemList = dataProc.ReadPickleFile(filePathNm)    
+    # stockItemList = dart.GetCmpnyList(prtInd=prtInd)
 
     filePathNm = conf.companyInfoPath + "/재무정보(금감원).pkl"
 
     # selectToc : 0 (연결재무제표), 5(재무제표)    
     df = dart.GetCmpnyAcntInfo(year, quarter, selectToc=selectToc, currentPageSize=currentPageSize, prtInd=prtInd)
 
     resData = df.values.tolist()
@@ -30,20 +41,26 @@
     # '종목명', '결산월', 
     # '기준년도', '기준월', '기준분기', '보고서종류'
     # '유동자산','비유동자산','자산총계','유동부채','비유동부채','부채총계','자본금','이익잉여금','자본총계',
     # '매출액','영업이익','세전이익','당기순이익'
 
     currData['columns'] = columns[2:] + ['매출액_분기','영업이익_분기','세전이익_분기','당기순이익_분기']
 
-    for idx in range(len(resData)):
+    rLen = len(resData)
+    for idx in range(rLen):        
         title = resData[idx][0]
-
+        print('\r' + datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S'), idx+1, '/', rLen, title, ' '*50, end='')
+        
         if len(stockItemList[stockItemList['회사명']==title]) > 0:
             shCode = stockItemList[stockItemList['회사명']==title]['종목코드'].values[0]
+        else:
+            x = code.StockItem(title)['종목코드'].values.tolist()
+            shCode = x[0] if len(x) > 0 else ''
 
+        if len(shCode) > 0:
             if not currData['data'].get(shCode):
                 currData['data'][shCode] = {}
             if not currData['data'][shCode].get('info'):
                 currData['data'][shCode]['info'] = []
             currData['data'][shCode]['종목명'] = title
             currData['data'][shCode]['결산월'] = resData[idx][1]
                 
@@ -78,17 +95,25 @@
                     #         tmpData[i][x+4] = tmpData[i][x]
                     # else:
                     #     if type(tmpData[i][x]) == int and type(tmpData[i-1][x]) == int :
                     #         tmpData[i][x+4] = tmpData[i][x] - tmpData[i-1][x]
 
             currData['data'][shCode]['info'] = tmpData            
         else:
-            print('회사정보 누락 : ' + title, '(' + filePathNm + ')')
+            if errMsg != '':
+                errMsg += '\n'
+            errMsg += '회사정보 누락 : ' + title
 
     dataProc.WritePickleFile(filePathNm, currData)
+    
+    filePathNm = conf.basePath + "/작업결과/재무정보(금감원)_오류_" + datetime.datetime.now().strftime('%Y%m%d%H%M%S') + ".txt"           
+    dataProc.WriteTextFile(filePathNm, errMsg)
+    
+    print('\r' + datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S'), '작업종료 :', ('연결' if selectToc == 0 else '') + '재무제표',
+        '(' + str(year) + '년 ' + str(quarter) + '분기)')
 
 
 def SaveCashFlowFromDartFile(year, quarter, file_path):
     """DART에서 제공하는 재무정보 일괄 다운로드 파일("04_현금흐름표") 내용 중
        영업현금흐름 정보 추출하여 DataFrame 형태로 반환
 
     반환항목:
```

## pyHana/dataSync/finInfoSync.py

```diff
@@ -1,9 +1,9 @@
 from ..common     import conf, dataProc, code, urlProc
-from ..outerIO    import companyInfo as ci
+from ..outerIO    import naver
 from ..outerIO    import kind
 import datetime
 from   bs4      import BeautifulSoup as bs
 
 def SyncCmpnyFinInfoNaver(srchItem='', shCodeFr='000000', shCodeTo='zzzzzz'):
     columns = ['종류', '종목코드', '종목명', '기준년월', '매출액', '영업이익', '영업이익발표기준', '세전계속사업이익', '당기순이익', 
                '당기순이익지배', '당기순이익비지배', '자산총계', '부채총계', '자본총계', '자본총계지배', '자본총계비지배', '자본금', 
@@ -23,22 +23,22 @@
         dfCmpList.sort()
     
     ## 종목별 재무정보 읽어오기
     listData = []
     urlTmp = "https://comp.fnguide.com/SVO2/ASP/SVD_Main.asp?pGB=1&gicode=A{}&cID=&MenuYn=Y&ReportGB=&NewMenuID=101&stkGb=701"
 
     for idx, [shCode, shName] in enumerate(dfCmpList):
-        print('\r'+str(datetime.datetime.now()), '>', idx+1, len(dfCmpList), shCode, shName, end="")
+        print('\r'+str(datetime.datetime.now()), '>', idx+1, '/', len(dfCmpList), shCode, shName, end="")
 
         url = urlTmp.format(shCode)
         res = urlProc.requests_url_call(url)    
         soup = bs(res.text, "html.parser")
 
-        listData += [['연간', shCode, shName] + x for x in ci.GetFinInfo(shCode, '연간').values.tolist()] # 연결_연간
-        listData += [['분기', shCode, shName] + x for x in ci.GetFinInfo(shCode, '분기').values.tolist()] # 연결_분기    
+        listData += [['연간', shCode, shName] + x for x in naver.GetFinInfo(shCode, '연간').values.tolist()] # 연결_연간
+        listData += [['분기', shCode, shName] + x for x in naver.GetFinInfo(shCode, '분기').values.tolist()] # 연결_분기    
         
     # 재무정보(네이버) update
     filePathNm = conf.companyInfoPath + "/재무정보(네이버).pkl"
     currData = dataProc.ReadPickleFile(filePathNm)
 
     currData['columns'] = columns
```

## pyHana/dataSync/kindSync.py

```diff
@@ -166,26 +166,26 @@
 #                 # # 파일에 저장
 #                 sd._SaveStockTrade('일별주가', df['종목코드'].iloc[i], [df[['일자', '시가', '고가', '저가', '종가', '거래량', '거래대금']].iloc[i].tolist()])    
 
 #                 print('\r' + curDt, (i+1), '/',  len(df), end='')
 #             curDt = (datetime.datetime.strptime(curDt, "%Y%m%d") + datetime.timedelta(days=1)).strftime("%Y%m%d")     
 #             print(' 완료')
 
-def SyncDividendInfo(sYear, eYear, currentPageSize = 100, marketType='', settlementMonth='', selYearCnt = 3):
+def SyncDividendInfo(sYear, eYear, currentPageSize = 100, marketType='', settlementMonth='', selYearCnt = 3, prtInd=False):
     filePathNm = conf.companyInfoPath + "/주식배당정보(한국거래소).pkl"
 
     for selYear in range(eYear, sYear-1, -1*selYearCnt):
         if selYear >= (sYear + selYearCnt):
             print(selYear, selYearCnt)
             yearCnt = selYearCnt
         else:
             print(selYear, selYear - sYear + 1)
             yearCnt = selYear - sYear + 1
 
-        df = kind.GetDividendInfo(selYear, currentPageSize, marketType, settlementMonth, yearCnt)
+        df = kind.GetDividendInfo(selYear, currentPageSize, marketType, settlementMonth, yearCnt, prtInd=prtInd)
 
         resData = df.values.tolist()
         columns = df.columns.tolist()[2:]
 
         # 기존 데이터 read
         currData = dataProc.ReadPickleFile(filePathNm)
```

## pyHana/outerIO/__init__.py

```diff
@@ -1,2 +1,2 @@
 ## pyHana 패키지
-__all__ =  ['dart', 'ebest', 'kind', 'marketIndex']
+__all__ =  ['dart', 'ebest', 'kind', 'marketIndex', 'naver']
```

## pyHana/outerIO/dart.py

```diff
@@ -1,11 +1,12 @@
 from   bs4      import BeautifulSoup as bs
 import time  
 import re
 import pandas  as pd
+import datetime
 from ..common  import urlProc
 
 
 def GetCmpnyAcntInfo(year, quarter, selectToc=5, currentPageSize = 100, prtInd=False):
     # selectToc : 0 (연결재무제표), 5(재무제표)
     # reportCode : 11013(1분기), 11012(반기), 11014(3분기), 11011(사업보고서)
     if   quarter == 1:  reportCode = ['11013','1분기']
@@ -105,49 +106,52 @@
                     # if len(val) > 0:
                     if len(val) > 0 and val[0] == '-' and val[1:].isnumeric() or val.isnumeric():
                         val = int(val)                    
 
                     tdVal.append(val)
 
             if len(tdVal) > 0:
-                resData.append(tdVal)        
+                resData.append(tdVal)      
 
         x=soup.select_one("div.page_info").text.replace(",","")
         curNum = int(x.split("/")[0][1:])
         totNum = int(x.split("/")[1].split("]")[0])
-        
+                                     
         if curNum >= totNum:
             break
 
         pgNum += 1
 
         # time.sleep(0.1)
     
-    totRecCnt = soup.select_one("div.page_info").text.replace(" ","").split("총")[1].replace("건]","")
-    print('\r', year, reportCode[1], selectToc, ' >> 대상:', totRecCnt, '제외:', skipCnt, '', len(resData), ' '*40)
+    totRecCnt = soup.select_one("div.page_info").text.replace(" ","").split("총")[1].replace("건]","").replace(",","")
+    
+    print('\r', ' '*500, '\r', end='')
+    print(datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S'), '대상:', totRecCnt, ' 제외:', skipCnt, ' 완료:', len(resData))
+
 
     # return resData, ['종목명', '결산월', '기준년도', '기준분기', '보고서종류'] + columns
     return pd.DataFrame(resData, columns = ['종목명', '결산월', '기준년도', '기준월', '기준분기', '보고서종류'] + columns)
 
 
-def GetCmpnyList():
+def GetCmpnyList(prtInd=False):
     columns = ['회사명','종목코드']
     
     resData = []
 
     urlTmp = "https://dart.fss.or.kr/dsae001/search.ax?startDate=&endDate=&maxResults=&maxLinks=&autoSearch=true&businessCode=all"
     urlTmp += "&sort=&series=&selectKey=&searchIndex=&textCrpCik=&bsnRgsNo=&bsnRgsNo_1=&bsnRgsNo_2=&bsnRgsNo_3=&crpRgsNo=&textCrpNm="
     urlTmp += "&corporationType={}&currentPage={}"
 
-    for corpType in ('P','A'):
+    for corpType in ('P','A','N'):
         pgNum = 1
         while True:                
             url = urlTmp.format(corpType, pgNum)
 
-            res = urlProc.requests_url_call(url)
+            res = urlProc.requests_url_call(url, prtInd=prtInd)
 
             soup = bs(res.text, "html.parser")
 
             trs = soup.tbody.select("tr")
             
             for tr in trs:    
                 title = tr.td.a.text.strip()
```

## Comparing `pyHana-0.0.8.dist-info/METADATA` & `pyHana-0.0.9.dist-info/METADATA`

 * *Files 14% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: pyHana
-Version: 0.0.8
+Version: 0.0.9
 Summary: for pyhana club members
 Home-page: https://github.com/pyhana/pyHana
 Author: pyhanclub
 Author-email: pyhanclub@gmail.com
 License: UNKNOWN
 Keywords: pyhanclub
 Platform: UNKNOWN
```

## Comparing `pyHana-0.0.8.dist-info/RECORD` & `pyHana-0.0.9.dist-info/RECORD`

 * *Files 19% similar despite different names*

```diff
@@ -1,34 +1,36 @@
 pyHana/__init__.py,sha256=FKE2JGLKC7jClgKEI0Rmhb_SDPVKK4OwquO5ghyH8yQ,85
 pyHana/analysis/__init__.py,sha256=hW-h6MPiPvRsz0cy3yTI-TUZN1kaXCJYbAnHyGUUcG0,95
 pyHana/analysis/backtest.py,sha256=OGXMGa2DgplsmlfPfNceckI2BHv3G28Qjzgd1q9ki98,12672
-pyHana/analysis/condSearch.py,sha256=QYAOupT_OZFYmNJPxPy_fjT_tnGqzW6pf3x1nGP7PzY,9051
-pyHana/analysis/findSignals.py,sha256=r_DPtwgqlAFQPfr8-K6kYAkv6Nkx765yURJmMh8L7yM,17165
+pyHana/analysis/condSearch.py,sha256=NUaUHuDgWIIB8Yed7jnzmK4Z_CBPF_0l2RW5sZherjY,11656
+pyHana/analysis/findSignals.py,sha256=88v5BFsymJJMuIo2qDCk_39CMbA6bSDZgspbLodnqEo,17158
 pyHana/analysis/graph.py,sha256=Gc5oa4ifGUSnfuS61oAdb3iayy0weX6AvFfywHo0HtE,23430
 pyHana/analysis/movingAverage.py,sha256=RlUGyK0k1nd1EVbYqw-2_7tkJVFTIX69qD24zENVVhQ,6900
-pyHana/analysis/stockEcoIndex.py,sha256=uqyJ6LleR9nxLqR9ldY0CLIqEaIUbaMWCU_ofmmYaBU,16823
+pyHana/analysis/stockEcoIndex.py,sha256=eAv5sAdTzF3838NnZxfjPSbQJeLd1t_Pi7YpadK5IGc,16819
 pyHana/common/__init__.py,sha256=lFWGRtseD6uJBTwBYW7MxeaIyAAzAdDJoyPrcfITRyc,55
 pyHana/common/code.py,sha256=xQreXAdIXoQhpHgXv9wJCJxMV0Tc9ZC4WtS2o4hOATo,1589
 pyHana/common/conf.py,sha256=uNvr2mehg1duQJTvo1mDA5jn8rzlR0pjtD5E0OlJVz4,672
-pyHana/common/dataProc.py,sha256=siZXJjA8PK6dsu_XTrB8N8HkP6ywvVbdhBA-5vrGvPk,1710
+pyHana/common/dataProc.py,sha256=JnOy5SEbCLDG9p0T7rhT8igXlcnycGx9R1nQ8B5lQeU,1978
 pyHana/common/graph.py,sha256=sK6PhesWu_dl03_3RbbuBMvGCGIj2peHKJ_d0fLo91Q,5047
-pyHana/common/urlProc.py,sha256=lzVmprjCwSiEANcG9cl04wgl48Ofp8P0etJSl3VOyHE,1272
+pyHana/common/urlProc.py,sha256=YKLuvfZ3asRIkxMvLZLHk0zaO_vCu68drh5yu2r4rsE,1314
 pyHana/dataSync/__init__.py,sha256=146c1GXBxtTeRhnSeCKDOkQ9VwHET_LmM9mKa7MMQMg,64
-pyHana/dataSync/dartSync.py,sha256=bGWazF6L32N8tlQ-50HM9qWqQqwkBlpcdF4ym4SyVPE,14492
+pyHana/dataSync/dartSync.py,sha256=sUXtcA78KCTQ2sdjo5u2zjTlNGHC5rHv9T1nexC8Dis,15739
+pyHana/dataSync/dartSyncFile.py,sha256=d2NXmU6A7MpBEeUv4AdlEKIyTgO7hUGmSdVmp1X627w,21451
 pyHana/dataSync/ebestSync.py,sha256=oWwE-Itq4cADy4HiUADq9aO9ZB4qx2QqCAWmKD8kQIs,13293
-pyHana/dataSync/finInfoSync.py,sha256=YymjhfRTZ8P8O7oeMU2AT42DBGjuXPXyCJRl_3UUJqg,3608
-pyHana/dataSync/kindSync.py,sha256=NVWIFxFkPE1lw86TwZiF16gADGyA39DoLESQFQiEAOY,10098
+pyHana/dataSync/finInfoSync.py,sha256=ZvEOce8j2hMpcJJieEmYrp3j3LG7weaEEYsPdaIeB1I,3607
+pyHana/dataSync/kindSync.py,sha256=rvEAUeGC7YMI0_OXfF98LIQQu0lW3TCzAggtv8ZjgRs,10127
 pyHana/dataSync/marketIndexSync.py,sha256=JSyti0TbvAv6haDRKVlFEXULSpqaoPKs8EvMOfdHf6Y,829
 pyHana/innerIO/__init__.py,sha256=_-sW3TqzJuPThVJzoIZZqw3g91-1vCC7jaPS-Sxi184,73
 pyHana/innerIO/companyInfo.py,sha256=cJASHCNXcwtPvwV1NNxyAf2zek70rjM7wCqPxQJn9WU,5708
 pyHana/innerIO/marketIndex.py,sha256=WD55rY5NM1ChSlM028kW_Lgc6LMp5rgUS5FEotw5f_g,4697
 pyHana/innerIO/stockInfo.py,sha256=rjGB6AetzW0qu8gGGXiarhDnVqdIDdCHLKe-V5SzpbI,11786
-pyHana/outerIO/__init__.py,sha256=4ov-xPtJCVADhp1TQ39PBaHJ_Md213hsMzRnGG5qWmE,72
+pyHana/outerIO/__init__.py,sha256=sKN9PyBshIY9gz7K-Bx5wr9nBqtLOHgfIHqZUTx2SlI,81
 pyHana/outerIO/companyInfo.py,sha256=vFRmQcG6KV4EAj8XPhg719lCnOuNAURLcR1Rms5iOHY,4241
-pyHana/outerIO/dart.py,sha256=U4Qmh6pnNMeDEAFF6Tz852NDQTsjDhVRnTgQNvMIUnw,7638
+pyHana/outerIO/dart.py,sha256=Tl7UgWzz9wXPFKmxZD2wMwO1jm6oEwBwlHU03ociRnc,7791
 pyHana/outerIO/ebest.py,sha256=LLDySSqUc1B1Pg-x3tahQD_pi6KadxwIJJQEHLnmPuk,15708
 pyHana/outerIO/kind.py,sha256=ijXoG43o1mCWH28JyCTBbQFjxEGbeJe53bh4SPIauU0,29774
 pyHana/outerIO/marketIndex.py,sha256=uQbcSPZnxIvzWKwlIovTpM4a7MRCQKQgweUZIL_E6U4,13773
-pyHana-0.0.8.dist-info/METADATA,sha256=jrIeYu87aV_iGVd-VDGKPQPgRO2QqDJjhPlzEw0YpIk,660
-pyHana-0.0.8.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-pyHana-0.0.8.dist-info/top_level.txt,sha256=HB0jmziPuwk5hJlWnvEbaS8QkKv84NPwX8F6le7Tm1Y,7
-pyHana-0.0.8.dist-info/RECORD,,
+pyHana/outerIO/naver.py,sha256=vIdJycFs-BoqSBWIKqb2ADDzh4iDFXZXmp9BGR9MvXs,9624
+pyHana-0.0.9.dist-info/METADATA,sha256=M-G-f6ufURU_BaUFiPAFW4eVJ8g7PNDEqkq7yLGHATo,660
+pyHana-0.0.9.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+pyHana-0.0.9.dist-info/top_level.txt,sha256=HB0jmziPuwk5hJlWnvEbaS8QkKv84NPwX8F6le7Tm1Y,7
+pyHana-0.0.9.dist-info/RECORD,,
```

